{"version":3,"file":"bane.js","sources":["../src/bane.js"],"sourcesContent":["'use restrict';\r\nconst ws = new WebSocket('ws://localhost:8080');\r\nws.onopen =()=>{\r\n\tconsole.log('open');\r\n};\r\nws.onclose =()=>{\r\n\tconsole.log('closed');\r\n};\r\n\r\nwindow.addEventListener(\"load\",()=>\r\n{\r\n\tgenInterface();\r\n\t\r\n\tlet Painter = document.getElementById(\"canvas\").getContext(\"2d\");\r\n\t\r\n\tws.onmessage = function incoming(message){\r\n\t\tlet msg = JSON.parse(message.data);\r\n\t\t//console.log(msg);\r\n\t\tconsole.log(msg.type);\r\n\t\tswitch(msg.type){\r\n\t\t\tcase \"userSentMsg\":\r\n\t\t\t\tlet nowTime = new Date();\r\n\t\t\t\tdocument.getElementById(\"chatDisplay\").value += nowTime.getHours()+\":\"+\r\n\t\t\t\t\t(nowTime.getMinutes()<10?\"0\":\"\")+nowTime.getMinutes()+\r\n\t\t\t\t\t\" \"+msg.text.x+\" : \"+msg.text.y+\"\\n\";\r\n\t\t\t\t\tdocument.getElementById(\"chatDisplay\").scrollTop = document.getElementById(\"chatDisplay\").scrollHeight;\r\n\t\t\t\t\tconsole.log(\"Got Other's message\");\r\n\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\tcase \"userSentDrawing\":\r\n\t\t\t\tPainter.fillStyle = \"#000000\";\r\n\t\t\t\tPainter.fillRect(msg.text.x,msg.text.y,9,9);\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase \"pastMessage\":\r\n\t\t\t\tlet list = msg.text;\r\n\t\t\t\t//let messageList = list.map(item => Object.values(item));\r\n\t\t\t\t//console.log(messageList);\r\n\t\t\t\tconsole.log(list[0].x,list[0].y);\r\n\t\t\t\tlet textDisplay = document.getElementById(\"chatDisplay\");\r\n\t\t\t\ttextDisplay.value += \"歷史訊息(最多十筆)\\n\\n\";\r\n\t\t\t\tlist.forEach(object =>{\r\n\t\t\t\t\ttextDisplay.value += \r\n\t\t\t\t\t\" \"+object.x+\" : \"+object.y+\"\\n\";\r\n\t\t\t\t\ttextDisplay.scrollTop = textDisplay.scrollHeight;\r\n\t\t\t\t});\r\n\t\t\t\ttextDisplay.value += \"\\n以上為歷史訊息\\n\\n\";\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log(\"FAIL : \"+msg.type);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tlet chatLoaded = {type: \"chatLoaded\"};\r\n\tws.send(JSON.stringify(chatLoaded));\r\n});\r\n\r\nfunction  genInterface(){\r\n\tlet html=document.querySelector(\"html\");\r\n\thtml.style.backgroundColor = \"black\";\r\n\thtml.style.overflow = \"auto\";\r\n\t\r\n\tlet styleList = genStyleList();\r\n\t\r\n\tlet body = document.body;\r\n\tbody.style.height = \"100vh\";\r\n\tbody.style.width = \"100vw\";\r\n\tbody.style.margin = \"0\";\r\n\t\r\n\tlet topCtn = genElement(\"topCtn\",\"div\");\r\n\ttopCtn.style.paddingLeft = \"3vw\";\r\n\ttopCtn.style.paddingRight = \"3vw\";\r\n\ttopCtn.style.height = \"10vh\";\r\n\ttopCtn.style.width = \"94vw\";\r\n\ttopCtn.style.display = \"flex\";\r\n\ttopCtn.style.justifyContent = \"space-between\";\r\n\ttopCtn.style.alignItems = \"center\";\r\n\ttopCtn.style.margin = \"auto\";\r\n\t//topCtn是畫面最上方的物品容器，然後調整他的style屬性\r\n\t\r\n\tlet topBtn = genElement(\"topBtn\",\"button\");\r\n\ttopBtn.innerText = \"≡\";\r\n\ttopBtn.style.display = \"flex\";\r\n\ttopBtn.style.justifyContent = \"center\";\r\n\ttopBtn.style.marginLeft = \"2.5vw\";\r\n\ttopBtn.style.fontSize = \"2vw\";\r\n\ttopBtn.style.textAlign = \"center\";\r\n\ttopBtn.style.height = \"5vh\";\r\n\ttopBtn.style.width = \"5vw\";\r\n\t//topBtn是在topCtn裡面的一個按鈕，改了裡面的字等屬性\r\n\t\r\n\tlet topTitle = genElement(\"topTitle\",\"h1\");\r\n\ttopTitle.innerText = \"這是啥小阿~~~~\";\r\n\ttopTitle.style.color = \"white\";\r\n\r\n\tlet topBlock = genElement(\"topBlock\",\"div\");\r\n\ttopBlock.style.width = \"5vw\";\r\n\ttopBlock.style.marginright = \"2.5vw\";\r\n\t\r\n\ttopCtn.appendChild(topBtn);\r\n\ttopCtn.appendChild(topTitle);\r\n\ttopCtn.appendChild(topBlock);\r\n\tbody.appendChild(topCtn);\r\n\t//topTitle是在topCtn裡面的文字，使用了h1的屬性\r\n\t\r\n\ttopBtn.addEventListener(\"click\",()=>\r\n\t{\r\n\t\tif(document.querySelector(\"#navMenu\"))\r\n\t\t{\r\n\t\t\tbodyLayout.removeChild(document.querySelector(\"#navMenu\"));\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tbodyLayout.insertBefore(navMenu,bodyLayout.firstChild);\r\n\t\t}\r\n\t});\r\n\t\r\n\tlet bodyLayout = genElement(\"bodyLayout\",\"div\");\r\n\t//bodyLayout.style.backgroundColor = \"white\";\r\n\tbodyLayout.style.paddingLeft = \"3vw\";\r\n\tbodyLayout.style.height = \"90vh\";\r\n\tbodyLayout.style.width = \"100vw\";\r\n\tbodyLayout.style.display = \"flex\";\r\n\tbodyLayout.style.flexDirection = \"row\";\r\n\t//bodyLayout.style.display = \"flex\";\r\n\t//bodyLayout.style.justifyContent = \"center\";\r\n\t//bodyLayout.style.alignItems = \"center\";\r\n\tbodyLayout.style.margin = \"auto\";\r\n\tbody.appendChild(bodyLayout);\r\n\t\r\n\tlet mainBoard = genElement(\"mainBoard\",\"div\");\r\n\t//mainBoard.style.backgroundColor = \"gray\";\r\n\tmainBoard.style.height = \"85vh\";\r\n\tmainBoard.style.width = \"80vw\";\r\n\tmainBoard.style.marginLeft = \"3vw\";\r\n\tmainBoard.style.display = \"flex\";\r\n\tmainBoard.style.justifyContent = \"space-between\";\r\n\tmainBoard.style.borderStyle = \"solid\";\r\n\tmainBoard.style.borderWidth = \"0.2vh\";\r\n\tmainBoard.style.borderColor = \"green\";\r\n\t\r\n\tlet boardBlock = genElement(\"boardBlock\",\"div\");\r\n\t\r\n\tbodyLayout.appendChild(mainBoard);\r\n\t\r\n\tlet paintBoardCtn = genBoard();\r\n\t\r\n\tlet chatCtn = genChat();\r\n\tmainBoard.appendChild(paintBoardCtn);\r\n\tmainBoard.appendChild(boardBlock);\r\n\tmainBoard.appendChild(chatCtn);\r\n\t\r\n\tlet navMenu =genMenu();\r\n\r\n\tResize();\r\n\t//body.onresize = function(){Resize()};\r\n}\r\n\r\nfunction Resize(){\r\n\t\tdocument.getElementById(\"canvas\").height = 900//paintBoardCtn.clientHeight;\r\n\t\tdocument.getElementById(\"canvas\").width = 1440//paintBoardCtn.clientWidth;\r\n}\r\n\r\nfunction genElement(x,y){\r\n\tlet cache =document.createElement(y);\r\n\tcache.id = x;\r\n\t\r\n\treturn cache;\r\n}\r\n\r\nfunction genMenu(){\r\n\tlet navMenu = genElement(\"navMenu\",\"nav\");\r\n\tnavMenu.style.userSelect = \"none\";\r\n\tnavMenu.style.borderStyle = \"solid\";\r\n\tnavMenu.style.borderWidth = \"0.2vh\";\r\n\tnavMenu.style.borderColor = \"white\";\r\n\tnavMenu.style.display = \"flex\";\r\n\tnavMenu.style.flexDirection = \"column\";\r\n\tnavMenu.style.justifyContent = \"space-between\";\r\n\tnavMenu.style.alignContent = \"space-between\";\r\n\tnavMenu.style.backgroundColor = \"gray\";\r\n\tnavMenu.style.color = \"gray\";\r\n\tnavMenu.style.height = \"85vh\";\r\n\tnavMenu.style.width = \"10vw\";\r\n\tnavMenu.style.outlineWidth = \"1vh\";\r\n\t\r\n\tlet a = document.createElement(\"ul\");\r\n\ta.style.display =\"flex\";\r\n\ta.style.justifyContent = \"center\";\r\n\ta.style.flexDirection = \"column\";\r\n\ta.style.padding = \"0vw\";\r\n\t//a.style.paddingTop = \"2vh\";\r\n\ta.style.fontSize = \"2vw\";\r\n\t\r\n\tlet b = document.createElement(\"div\");\r\n\tb.innerText=\"Chat\";\r\n\tb.style.backgroundColor = \"cyan\";\r\n\tb.style.color = \"inherit\";\r\n\tb.style.textDecoration = \"underline\";\r\n\tb.style.textAlign = \"center\";\r\n\tb.style.fontSize = \"2vw\";\r\n\t\r\n\r\n\tlet chatCtn = document.getElementById(\"chatCtn\");\r\n\tb.addEventListener(\"click\",()=>{\r\n\t\tif (!document.getElementById(\"chatCtn\")){\r\n\t\t\tdocument.getElementById(\"mainBoard\").appendChild(chatCtn);\r\n\t\t\tconsole.log(\"Chat have been Shown!\");\r\n\t\t}else{\r\n\t\t\tdocument.getElementById(\"mainBoard\").removeChild(chatCtn);\r\n\t\t\tconsole.log(\"Chat have been Hidden!\");\r\n\t\t}\r\n\t});\r\n\t/*let ba = document.createElement(\"a\");\r\n\tba.innerText=\"Chat\";\r\n\tba.style.color = \"inherit\";\r\n\tba.href = \"#Chat\";\r\n\tb.appendChild(ba);*/\r\n\t\r\n\tlet c = document.createElement(\"div\");\r\n\tc.innerText=\"Paint\";\r\n\tc.style.backgroundColor = \"white\";\r\n\tc.style.color = \"inherit\";\r\n\tc.style.textDecoration = \"underline\";\r\n\tc.style.textAlign = \"center\";\r\n\t\r\n\tlet paintBoardCtn = document.getElementById(\"paintBoardCtn\");\r\n\tc.addEventListener(\"click\",()=>{\r\n\t\tif (!document.getElementById(\"paintBoardCtn\")){\r\n\t\t\tdocument.getElementById(\"mainBoard\").insertBefore(paintBoardCtn,document.getElementById(\"boardBlock\"));\r\n\t\t\tconsole.log(\"Paint have been Shown!\");\r\n\t\t}else{\r\n\t\t\tdocument.getElementById(\"mainBoard\").removeChild(paintBoardCtn);\r\n\t\t\tconsole.log(\"Paint have been Hidden!\");\r\n\t\t}\r\n\t});\r\n\t/*let ca = document.createElement(\"a\");\r\n\tca.innerText=\"Paint\";\r\n\tca.style.color = \"inherit\";\r\n\tca.href = \"#Paint\";\r\n\tc.appendChild(ca);*/\r\n\t\r\n\tlet d = document.createElement(\"div\");\r\n\td.innerText=\"Setting\";\r\n\td.style.backgroundColor = \"cyan\";\r\n\td.style.color = \"inherit\";\r\n\td.style.textDecoration = \"underline\";\r\n\td.style.textAlign = \"center\";\r\n\td.style.padding = \"1vw\";\r\n\td.style.paddingBottom = \"2vh\";\r\n\td.style.fontSize = \"2vw\";\r\n\t\r\n\td.addEventListener(\"click\",()=>{\r\n\t\tif(document.querySelector(\"html\").style.backgroundColor == \"white\"){\r\n\t\t\tdocument.querySelector(\"html\").style.backgroundColor = \"black\";\r\n\t\t\tdocument.querySelector(\"#navMenu\").style.borderColor = \"white\";\r\n\t\t\tdocument.querySelector(\"#topTitle\").style.color = \"white\";\r\n\t\t}else{\r\n\t\t\tdocument.querySelector(\"html\").style.backgroundColor = \"white\";\r\n\t\t\tdocument.querySelector(\"#navMenu\").style.borderColor = \"black\";\r\n\t\t\tdocument.querySelector(\"#topTitle\").style.color = \"black\";\r\n\t\t}\r\n\t\tconsole.log(\"Setting have been Clicked!\");\r\n\t});\r\n\t\r\n\ta.appendChild(b);\r\n\ta.appendChild(c);\r\n\tnavMenu.appendChild(a);\r\n\tnavMenu.appendChild(d);\r\n\tbodyLayout.insertBefore(navMenu,bodyLayout.firstChild);\r\n\treturn navMenu;\r\n}\r\n\r\nfunction genBoard(){\r\n\tlet paintBoardCtn = genElement(\"paintBoardCtn\",\"div\");\r\n\tpaintBoardCtn.style.maxHeight = \"85vh\";\r\n\tpaintBoardCtn.style.maxWidth = \"60vw\";\r\n\tpaintBoardCtn.style.height = \"85vh\";\r\n\tpaintBoardCtn.style.width = \"60vw\";\r\n\tpaintBoardCtn.style.overflow = \"hidden\";\r\n\tpaintBoardCtn.style.backgroundColor = \"gray\";\r\n\tlet paintBoard = genElement(\"canvas\",\"canvas\");\r\n\t//let ctx = paintBoard.getContext(\"2d\");\r\n\tpaintBoard.style.backgroundColor = \"white\";\r\n\t\r\n\tpaintBoard.addEventListener(\"mousedown\",onMousedown);\r\n\tfunction onMousedown(event){\r\n\t\tuserSentDrawing();\r\n\t\tpaintBoard.addEventListener(\"mousemove\",onMousemove);\r\n\t\tpaintBoard.addEventListener(\"mouseup\",onMouseup);\r\n\t}\r\n\tfunction onMousemove(event){\r\n\t\tuserSentDrawing();\r\n\t}\r\n\t\r\n\tfunction userSentDrawing(){\r\n\t\tlet x = event.offsetX;\r\n\t\tlet y = event.offsetY;\r\n\t\tlet msg = {\r\n\t\t\ttype: \"userSentDrawing\",\r\n\t\t\ttext: {x,y},\r\n\t\t\t//id : clientID,\r\n\t\t\t//date: Date.now()\r\n\t\t\t};\r\n\t\t\tconsole.log(msg);\r\n\t\t\tws.send(JSON.stringify(msg));\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction onMouseup(event){\r\n\t\tpaintBoard.removeEventListener('mousemove',onMousemove);\r\n\t}\r\n\tpaintBoardCtn.appendChild(paintBoard);\r\n\t\r\n\treturn paintBoardCtn;\r\n}\r\n\r\nfunction genChat(){\r\n\tlet chatCtn = genElement(\"chatCtn\",\"div\");\r\n\tlet chatInputCtn = document.createElement(\"div\");\r\n\tlet chatUserCtn = document.createElement(\"div\");\r\n\tlet chatDisplay = genElement(\"chatDisplay\",\"textarea\");\r\n\tlet chatUsername = genElement(\"chatUsername\",\"textarea\");\r\n\tlet chatInput = genElement(\"chatInput\",\"textarea\");\r\n\tlet chatBtn = document.createElement(\"button\");\r\n\t//chatCtn.style.backgroundColor = \"cyan\";\r\n\tchatCtn.style.height = \"inherit\";\r\n\tchatCtn.style.width = \"20vw\";\r\n\t//chatCtn.style.padding = \"0.1vh\";\r\n\tchatCtn.style.display = \"flex\";\r\n\tchatCtn.style.flexDirection = \"column\";\r\n\tchatCtn.style.borderStyle = \"solid\";\r\n\tchatCtn.style.borderWidth = \"0 0 0 0.2vh\";\r\n\tchatCtn.style.borderColor = \"green\";\r\n\t//chatCtn.style.justifyContent = \"center\";\r\n\t//chatCtn.style.backgroundColor = \"cyan\";\r\n\t\r\n\tchatDisplay.style.backgroundColor = \"cyan\";\r\n\tchatDisplay.style.height = \"78vh\";\r\n\tchatDisplay.readOnly = \"true\";\r\n\tchatDisplay.style.width = \"calc(inherit-4px)\";\r\n\tchatDisplay.style.padding = \"2px\";\r\n\t//chatDisplay.style = \"display: flex; height: 4.8vh; flex-direction: row; border-style: solid; border-width: 0.2vh 0px 0px; border-color: green;\"\r\n\t\r\n\tchatUserCtn.style.width = \"17vw\";\r\n\tchatUserCtn.style.display = \"flex\";\r\n\tchatUserCtn.style.flexDirection = \"column\";\r\n\tchatUserCtn.style.height = \"7vh\";\r\n\tchatUserCtn.style.borderStyle = \"solid\";\r\n\tchatUserCtn.style.borderWidth = \"0 0 0 0.1vh\";\r\n\tchatUserCtn.style.borderColor = \"green\";\r\n\t\r\n\tchatUsername.style.color = \"white\";\r\n\tchatUsername.style.width = \"17vw\";\r\n\tchatUsername.style.height = \"4vh\";\r\n\tchatUsername.style.backgroundColor = \"gray\";\r\n\tchatUsername.style.paddingTop = \"2px\";\r\n\tchatUsername.style.paddingLeft = \"2px\";\r\n\tchatUsername.style.fontSize = \"8px\";\r\n\tchatUsername.style.overflow = \"hidden\";\r\n\t\r\n\tchatUsername.addEventListener(\"keydown\",()=>{\r\n\t\tlet x = event.keyCode;\r\n\t\tif(x == 13){\r\n\t\t\t\tevent.preventDefault();\r\n\t\t}\r\n\t});\r\n\t\r\n\tchatInput.style.backgroundColor = \"white\";\r\n\tchatInput.style.height = \"inherit\";\r\n\tchatInput.style.width = \"17vw\";\r\n\tchatInput.style.paddingLeft = \"2px\";\r\n\tchatInput.style.paddingTop = \"2px\";\r\n\t//chatInput.style.resize = \"none\";\r\n\t\r\n\tchatInput.addEventListener(\"keydown\",onEnterKeyDown);\r\n\tchatBtn.addEventListener(\"click\",()=>{\r\n\t\tsendMyMsg();\r\n\t});\r\n\t\r\n\tfunction onEnterKeyDown(){\r\n\t\tlet x = event.keyCode;\r\n\t\tif(x == 13 && !event.shiftKey == true){\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tsendMyMsg();\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction sendMyMsg(){\r\n\t\tif (chatInput.value != \"\"){\r\n\t\t\tlet x = (chatUsername.value == \"\"?\"匿名\":chatUsername.value);\r\n\t\t\tlet y = chatInput.value;\r\n\t\t\tlet msg = {\r\n\t\t\ttype: \"userSentMsg\",\r\n\t\t\ttext: {x,y},\r\n\t\t\t//id : clientID,\r\n\t\t\t//date: Date.now()\r\n\t\t\t};\r\n\t\t\tws.send(JSON.stringify(msg));\r\n\t\t\tchatInput.value = \"\";\r\n\t\t}\r\n\t\telse{\r\n\t\t\tconsole.log(\"至少打個訊息進去吧?\");\r\n\t\t}\r\n\t}\r\n/*\r\n\tfunction sendMsg(){\r\n\t\tlet msg = chatInput.value;\r\n\t\tlet nowTime = new Date();\r\n\t\t\t\tif (msg != \"\"){\r\n\t\t\t\t\tchatInput.value = \"\";\r\n\t\t\t\t\tchatDisplay.value += nowTime.getHours()+\":\"+\r\n\t\t\t\t\t(nowTime.getMinutes()<10?\"0\":\"\")+nowTime.getMinutes()+\r\n\t\t\t\t\t\" \"+(chatUsername.value == \"\"?\"匿名\":chatUsername.value)+\r\n\t\t\t\t\t\": \"+msg+\"\\n\";\r\n\t\t\t\t\tchatDisplay.scrollTop = chatDisplay.scrollHeight;\r\n\t\t\t\tconsole.log(\"Send\");\r\n\t}\r\n}\r\n*/\r\n\t\r\n\tchatBtn.style.height = \"inherit\";\r\n\tchatBtn.style.width = \"3vw\";\r\n\tchatBtn.innerText = \"送出\";\r\n\tchatBtn.style.borderStyle = \"solid\";\r\n\tchatBtn.style.borderWidth = \"0.1vh\";\r\n\tchatBtn.style.borderColor = \"green\";\r\n\t\r\n\tchatInputCtn.style.display = \"flex\";\r\n\tchatInputCtn.style.height = \"7vh\";\r\n\tchatInputCtn.style.flexDirection = \"row\";\r\n\tchatInputCtn.style.borderStyle = \"solid\";\r\n\tchatInputCtn.style.borderWidth = \"0\";\r\n\tchatInputCtn.style.borderColor = \"green\";\r\n\t\r\n\tchatCtn.appendChild(chatDisplay);\r\n\tchatCtn.appendChild(chatUsername);\r\n\tchatUserCtn.appendChild(chatUsername);\r\n\tchatUserCtn.appendChild(chatInput);\r\n\tchatInputCtn.appendChild(chatUserCtn);\r\n\tchatInputCtn.appendChild(chatBtn);\r\n\tchatCtn.appendChild(chatInputCtn);\r\n\treturn chatCtn;\r\n}\r\n\r\nfunction genStyleList(){\r\n\tlet styleList = document.createElement(\"div\");\r\n\t\r\n\tlet scrollStyle = document.createElement(\"style\");\r\n\tscrollStyle.type = \"text/css\";\r\n\tscrollStyle.innerHTML = \"html::-webkit-scrollbar {display:none;}\\\r\n\tbody::-webkit-scrollbar {display:auto;}\";\r\n\t\r\n\tlet textareaStyle = document.createElement(\"style\");\r\n\ttextareaStyle.type = \"text/css\";\r\n\ttextareaStyle.innerHTML = \"textarea{\\\r\n\t\t-webkit-writing-mode: horizontal-tb !important;\\\r\n\t\ttext-rendering: auto;\\\r\n\t\tcolor: -internal-light-dark-color(black, white);\\\r\n\t\tletter-spacing: normal;\\\r\n\t\tword-spacing: normal;\\\r\n\t\ttext-transform: none;\\\r\n\t\ttext-indent: 0px;\\\r\n\t\ttext-shadow: none;\\\r\n\t\tdisplay: inline-block;\\\r\n\t\ttext-align: start;\\\r\n\t\t-webkit-appearance: textarea;\\\r\n\t\tbackground-color: white;\\\r\n\t\t-webkit-rtl-ordering: logical;\\\r\n\t\tflex-direction: column;\\\r\n\t\tresize: none;\\\r\n\t\tcursor: text;\\\r\n\t\twhite-space: pre-wrap;\\\r\n\t\toverflow-wrap: break-word;\\\r\n\t\tmargin: 0em;\\\r\n\t\tfont: 400 13.3333px Arial;\\\r\n\t\tborder-width: 0px;\\\r\n\t\tborder-style: none;\\\r\n\t\tborder-color: transparent;\\\r\n\t\tborder-image: none;\\\r\n\t\tpadding: 0px;}\\\r\n\t\t\\\r\n\ttextarea:focus {\\\r\n\t\toutline: none !important;\\\r\n\t\tborder:none;\\\r\n\t\tbox-shadow: 0;}\";\r\n\t\r\n\tdocument.head.appendChild(styleList);\r\n\tstyleList.appendChild(textareaStyle);\r\n\tstyleList.appendChild(scrollStyle);\r\n\t//let scrollbar =window.getComputedStyle(html,\"::-webkit-scrollbar\");\r\n\treturn styleList;\r\n}"],"names":["ws","WebSocket","onopen","console","log","onclose","window","addEventListener","genInterface","Painter","document","getElementById","getContext","onmessage","incoming","message","msg","JSON","parse","data","type","nowTime","Date","value","getHours","getMinutes","text","x","y","scrollTop","scrollHeight","fillStyle","fillRect","list","textDisplay","forEach","object","chatLoaded","send","stringify","html","querySelector","style","backgroundColor","overflow","styleList","genStyleList","body","height","width","margin","topCtn","genElement","paddingLeft","paddingRight","display","justifyContent","alignItems","topBtn","innerText","marginLeft","fontSize","textAlign","topTitle","color","topBlock","marginright","appendChild","bodyLayout","removeChild","insertBefore","navMenu","firstChild","flexDirection","mainBoard","borderStyle","borderWidth","borderColor","boardBlock","paintBoardCtn","genBoard","chatCtn","genChat","genMenu","Resize","cache","createElement","id","userSelect","alignContent","outlineWidth","a","padding","b","textDecoration","c","d","paddingBottom","maxHeight","maxWidth","paintBoard","onMousedown","event","userSentDrawing","onMousemove","onMouseup","offsetX","offsetY","removeEventListener","chatInputCtn","chatUserCtn","chatDisplay","chatUsername","chatInput","chatBtn","readOnly","paddingTop","keyCode","preventDefault","onEnterKeyDown","sendMyMsg","shiftKey","scrollStyle","innerHTML","textareaStyle","head"],"mappings":"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"}